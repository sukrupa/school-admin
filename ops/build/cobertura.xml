<project name="cobertura">
    <delete file="${target.reports.cobertura.dir}/cobertura.ser" />
    <taskdef classpathref="classpath.cobertura" resource="tasks.properties"/>

    <!-- used to test cobertura instruements -->
    <target name="cobertura-instrument">
        <cobertura-instrument todir="${target.test.cobertura_instrumented.dir}">
            <!-- <ignore regex="org.apache.log4j.*" />-->
            <fileset dir="${classes.dir}">
                <include name="**/*.class" />
                <exclude name="**/*Test.class" />
            </fileset>
        </cobertura-instrument>
    </target>

    <!-- used to test cobertura report generation-->
    <target name="cobertura-report">
        <cobertura-report-execute format="xml" destdir="${target.reports.cobertura.dir}" >
            <!-- <ignore regex="org.apache.log4j.*" />-->
            <fileset dir="${src.dir}">
            <include name="main/**/*.java" />
            <include name="test/**/*.java" />
            </fileset>
        </cobertura-report-execute>
        <cobertura-report-gen />
    </target>


</project>